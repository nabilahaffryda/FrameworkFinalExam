{"ast":null,"code":"var _jsxFileName = \"D:\\\\FrameworkUAS\\\\frontend\\\\src\\\\containers\\\\Header.js\";\nimport React, { Component } from 'react';\nimport firebase from \"firebase\";\nimport firebaseConfig from '../firebase/config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchCart = () => {\n      const cartref = firebase.database().ref(`/carts/nabil@gmail`);\n      const productref = firebase.database().ref(\"listProduct\");\n      cartref.on(\"value\", snapshot => {\n        let carts = snapshot.val();\n\n        if (carts !== null) {\n          this.setState({\n            listCart: carts\n          });\n        }\n\n        productref.on(\"value\", productSnapshot => {\n          console.log(productSnapshot);\n          let products = productSnapshot.val();\n          let newProductCart = [];\n\n          if (products != null && carts != null) {\n            let total = 0;\n            products.map(item => {\n              carts.products.map(cart => {\n                if (item.id === cart.id) {\n                  newProductCart.push(this.itemCart(item, cart));\n                  this.setState({\n                    productCart: newProductCart,\n                    loadingCart: false\n                  });\n                  total += item.price * cart.qty;\n                }\n              });\n            });\n            this.countTotalPrice(total);\n          } else {\n            this.setState({\n              productCart: [],\n              totalPrice: 0,\n              loadingCart: false\n            });\n          }\n\n          this.getImage();\n        });\n      });\n    };\n\n    this.deleteCart = productID => {\n      let newCarts = this.state.listCart.products.filter(item => {\n        return item.id !== productID;\n      });\n      console.log(this.state.productCart);\n      firebase.database().ref(\"carts/nabil@gmail/products\").set(newCarts);\n    };\n\n    this.itemCart = (product, cart) => {\n      let newCart = { ...product,\n        ...cart\n      };\n      return newCart;\n    };\n\n    this.countTotalPrice = price => {\n      this.setState({\n        totalPrice: price\n      });\n    };\n\n    this.setQty = (pid, qty) => {\n      let ref = firebase.database().ref(`/carts/nabil@gmail/products`);\n      ref.get().then(snapshot => {\n        let carts = snapshot.val();\n\n        if (qty > 0) {\n          let index = carts.findIndex(element => {\n            return element.pid === pid;\n          });\n\n          if (index > -1 && index < carts.length) {\n            carts[index].qty = qty;\n            ref.set(carts);\n          }\n        }\n      });\n    };\n\n    this.getImage = () => {\n      const storage = firebase.storage();\n      this.state.productCart.map(item => {\n        storage.ref(`/product-image/${item.image}`).getDownloadURL().then(link => {\n          let newCart = this.state.productCart.map(cart => {\n            if (item.id === cart.id) {\n              cart.image = link;\n            }\n\n            return cart;\n          });\n          this.setState({\n            productCart: newCart\n          });\n        });\n      });\n    };\n\n    if (!firebase.apps.length) {\n      firebase.initializeApp(firebaseConfig);\n    }\n\n    this.state = {\n      listCart: [],\n      productCart: [],\n      totalPrice: 0\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n    this.fetchCart();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"header\", {\n      id: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-mobile d-md-none\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobile hidden-md-up text-xs-center d-flex align-items-center justify-content-around\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"mobile_mainmenu\",\n            className: \"item-mobile-top\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-bars\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-logo\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"logo-mobile img-fluid\",\n                src: \"img/home/logo-mobie.png\",\n                alt: \"Prestashop_Furnitica\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-menutop\",\n            \"data-target\": \"#mobile-pagemenu\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"zmdi zmdi-more\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-top d-xs-none \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-2 col-md-2 d-flex align-items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"logo\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"img/home/logo.png\",\n                    alt: \"logo\",\n                    className: \"img-fluid\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-5 col-md-5 align-items-center justify-content-center navbar-expand-md main-menu\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"menu navbar collapse navbar-collapse\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"menu-top navbar-nav\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"/\",\n                      className: \"parent\",\n                      children: \"Home\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 148,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"/product\",\n                      className: \"parent\",\n                      children: \"Product\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-5 col-md-5 d-flex align-items-center justify-content-end\",\n              id: \"search_widget\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"block_myaccount_infos\",\n                className: \"hidden-sm-down dropdown\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"myaccount-title \",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#acount\",\n                    \"data-toggle\": \"collapse\",\n                    className: \"acount\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-user\",\n                      \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \" Account\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 161,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-angle-down\",\n                      \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"acount\",\n                  className: \"collapse\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"account-list-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        className: \"login\",\n                        href: \"/login\",\n                        rel: \"nofollow\",\n                        title: \"Log in\",\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fa fa-sign-in\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 169,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Sign in\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 170,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 168,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 167,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        className: \"register\",\n                        href: \"/register\",\n                        rel: \"nofollow\",\n                        title: \"Register Account\",\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fa fa-user\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 175,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Register Account\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 176,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 174,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        className: \"sign-out\",\n                        href: \"/logout\",\n                        rel: \"nofollow\",\n                        title: \"Log out\",\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fa fa-sign-out\",\n                          \"aria-hidden\": \"true\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 181,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Sign out\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 182,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 180,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 179,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"desktop_cart\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"blockcart block-cart cart-preview tiva-toggle\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"header-cart tiva-toggle-btn\",\n                    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"/cart\",\n                      \"data-toggle\": \"collapse\",\n                      className: \"acount\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 192,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-shopping-cart\",\n                      \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dropdown-content\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"cart-content\",\n                      children: /*#__PURE__*/_jsxDEV(\"table\", {\n                        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                          children: [this.state.productCart.length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n                            className: \"text-center\",\n                            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                              children: \"Empty\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 201,\n                              columnNumber: 41\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 200,\n                            columnNumber: 37\n                          }, this), this.state.productCart.map(item => {\n                            /*#__PURE__*/\n                            _jsxDEV(\"tr\", {\n                              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                                className: \"product-image\",\n                                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                                  href: \"product-detail.html\",\n                                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                                    src: item.image,\n                                    alt: \"Product\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 208,\n                                    columnNumber: 45\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 207,\n                                  columnNumber: 41\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 206,\n                                columnNumber: 41\n                              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"product-name\",\n                                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                                    href: \"#\",\n                                    children: item.name\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 213,\n                                    columnNumber: 45\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 212,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  children: [item.qty, \"x -\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                                    className: \"product-price\",\n                                    children: [\"Rp \", item.qty * item.price]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 217,\n                                    columnNumber: 45\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 215,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 211,\n                                columnNumber: 41\n                              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                                className: \"action\",\n                                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                                  className: \"remove\",\n                                  href: \"#\",\n                                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                    className: \"fa fa-trash-o\",\n                                    \"aria-hidden\": \"true\",\n                                    onClick: () => this.deleteCart(item.id)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 222,\n                                    columnNumber: 45\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 221,\n                                  columnNumber: 41\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 220,\n                                columnNumber: 41\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 205,\n                              columnNumber: 37\n                            }, this);\n                          }), /*#__PURE__*/_jsxDEV(\"tr\", {\n                            className: \"total\",\n                            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                              children: \"Total:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 229,\n                              columnNumber: 41\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: [\" Rp \", this.state.totalprice]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 230,\n                              columnNumber: 41\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 228,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                            children: /*#__PURE__*/_jsxDEV(\"td\", {\n                              colSpan: 3,\n                              className: \"d-flex justify-content-center\",\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"cart-button\",\n                                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                                  href: \"/cart\",\n                                  title: \"View Cart\",\n                                  children: \"View Cart\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 235,\n                                  columnNumber: 45\n                                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                                  href: \"/checkout\",\n                                  title: \"Checkout\",\n                                  children: \"Checkout\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 236,\n                                  columnNumber: 45\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 234,\n                                columnNumber: 41\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 233,\n                              columnNumber: 41\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 232,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 198,\n                          columnNumber: 37\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 197,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrap-banner\",\n          children: /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"breadcrumb-bg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container no-index\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"breadcrumb\",\n                children: /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"wrapper-site\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"content-wrapper\",\n            class: \"full-width\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"main\",\n              children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 42\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Header;","map":{"version":3,"sources":["D:/FrameworkUAS/frontend/src/containers/Header.js"],"names":["React","Component","firebase","firebaseConfig","Header","constructor","props","fetchCart","cartref","database","ref","productref","on","snapshot","carts","val","setState","listCart","productSnapshot","console","log","products","newProductCart","total","map","item","cart","id","push","itemCart","productCart","loadingCart","price","qty","countTotalPrice","totalPrice","getImage","deleteCart","productID","newCarts","state","filter","set","product","newCart","setQty","pid","get","then","index","findIndex","element","length","storage","image","getDownloadURL","link","apps","initializeApp","componentDidMount","render","name","totalprice"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport firebase from \"firebase\";\r\nimport firebaseConfig from '../firebase/config';\r\n\r\nclass Header extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        if (!firebase.apps.length) {\r\n          firebase.initializeApp(firebaseConfig);\r\n        }\r\n        this.state = {\r\n          listCart: [],\r\n          productCart: [],\r\n          totalPrice: 0,\r\n        };\r\n    }\r\n    fetchCart = () => {\r\n        const cartref = firebase.database().ref(`/carts/nabil@gmail`);\r\n        const productref = firebase.database().ref(\"listProduct\");\r\n        cartref.on(\"value\", (snapshot) => {\r\n            let carts = snapshot.val();\r\n            if(carts !== null){\r\n                this.setState({listCart: carts});\r\n            }\r\n            productref.on(\"value\", (productSnapshot) => {\r\n                console.log(productSnapshot);\r\n                let products = productSnapshot.val();\r\n                let newProductCart = [];\r\n                if(products != null && carts != null){\r\n                    let total = 0;\r\n                    products.map((item) => {\r\n                        carts.products.map((cart) => {\r\n                            if(item.id === cart.id){\r\n                                newProductCart.push(this.itemCart(item, cart));\r\n                                this.setState({\r\n                                    productCart: newProductCart,\r\n                                    loadingCart: false,\r\n                                });\r\n                                total += item.price * cart.qty;\r\n                            }\r\n                        });\r\n                    });\r\n                    this.countTotalPrice(total);\r\n                }else{\r\n                    this.setState({productCart: [], totalPrice: 0, loadingCart: false});\r\n                }\r\n                this.getImage();\r\n            });\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        console.log(this.props);\r\n        this.fetchCart();\r\n    }\r\n\r\n    deleteCart = (productID) => {\r\n        let newCarts = this.state.listCart.products.filter((item) => {\r\n            return item.id !== productID;\r\n        });\r\n        console.log(this.state.productCart);\r\n        firebase.database().ref(\"carts/nabil@gmail/products\").set(newCarts);\r\n    }\r\n    itemCart = (product, cart) => {\r\n        let newCart = {\r\n            ...product,\r\n            ...cart,\r\n        };\r\n        return newCart;\r\n    }\r\n    countTotalPrice = (price) => {\r\n        this.setState({totalPrice: price});\r\n    }\r\n    setQty = (pid, qty) => {\r\n        let ref = firebase\r\n          .database()\r\n          .ref(\r\n            `/carts/nabil@gmail/products`\r\n          );\r\n        ref.get().then((snapshot) => {\r\n          let carts = snapshot.val();\r\n          if (qty > 0) {\r\n            let index = carts.findIndex((element) => {\r\n              return element.pid === pid;\r\n            });\r\n            if (index > -1 && index < carts.length) {\r\n              carts[index].qty = qty;\r\n              ref.set(carts);\r\n            }\r\n          }\r\n        });\r\n    };\r\n    getImage = () => {\r\n        const storage = firebase.storage();\r\n        this.state.productCart.map((item) => {\r\n            storage\r\n                .ref(`/product-image/${item.image}`)\r\n                .getDownloadURL()\r\n                .then((link) => {\r\n                    let newCart = this.state.productCart.map((cart) => {\r\n                        if(item.id === cart.id){\r\n                            cart.image = link;\r\n                        }\r\n                        return cart;\r\n                    });\r\n                    this.setState({productCart: newCart});\r\n                });\r\n        });\r\n    }\r\n    render(){\r\n        return(\r\n            <header id=\"header\">\r\n                {/* header left mobie */}\r\n                <div className=\"header-mobile d-md-none\">\r\n                    <div className=\"mobile hidden-md-up text-xs-center d-flex align-items-center justify-content-around\">\r\n                    {/* menu left */}\r\n                    <div id=\"mobile_mainmenu\" className=\"item-mobile-top\">\r\n                        <i className=\"fa fa-bars\" aria-hidden=\"true\" />\r\n                    </div>\r\n                    {/* logo */}\r\n                    <div className=\"mobile-logo\">\r\n                        <a href=\"/\">\r\n                        <img className=\"logo-mobile img-fluid\" src=\"img/home/logo-mobie.png\" alt=\"Prestashop_Furnitica\" />\r\n                        </a>\r\n                    </div>\r\n                    {/* menu right */}\r\n                    <div className=\"mobile-menutop\" data-target=\"#mobile-pagemenu\">\r\n                        <i className=\"zmdi zmdi-more\" />\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                {/* header desktop */}\r\n                <div className=\"header-top d-xs-none \">\r\n                    <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        {/* logo */}\r\n                        <div className=\"col-sm-2 col-md-2 d-flex align-items-center\">\r\n                        <div id=\"logo\">\r\n                            <a href=\"/\">\r\n                            <img src=\"img/home/logo.png\" alt=\"logo\" className=\"img-fluid\" />\r\n                            </a>\r\n                        </div>\r\n                        </div>\r\n                        {/* menu */}\r\n                        <div className=\"col-sm-5 col-md-5 align-items-center justify-content-center navbar-expand-md main-menu\">\r\n                        <div className=\"menu navbar collapse navbar-collapse\">\r\n                            <ul className=\"menu-top navbar-nav\">\r\n                            <li>\r\n                                <a href=\"/\" className=\"parent\">Home</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"/product\" className=\"parent\">Product</a>\r\n                            </li>\r\n                            </ul>\r\n                        </div>\r\n                        </div>\r\n                        <div className=\"col-sm-5 col-md-5 d-flex align-items-center justify-content-end\" id=\"search_widget\">\r\n                        <div id=\"block_myaccount_infos\" className=\"hidden-sm-down dropdown\">\r\n                        <div className=\"myaccount-title \">\r\n                            <a href=\"#acount\" data-toggle=\"collapse\" className=\"acount\">\r\n                            <i className=\"fa fa-user\" aria-hidden=\"true\" />\r\n                            <span> Account</span>\r\n                            <i className=\"fa fa-angle-down\" aria-hidden=\"true\" />\r\n                            </a>\r\n                        </div>\r\n                        <div id=\"acount\" className=\"collapse\">\r\n                            <div className=\"account-list-content\">\r\n                            <div>\r\n                                <a className=\"login\" href=\"/login\" rel=\"nofollow\" title=\"Log in\">\r\n                                <i className=\"fa fa-sign-in\" />\r\n                                <span>Sign in</span>\r\n                                </a>\r\n                            </div>\r\n                            <div>\r\n                                <a className=\"register\" href=\"/register\" rel=\"nofollow\" title=\"Register Account\">\r\n                                <i className=\"fa fa-user\" />\r\n                                <span>Register Account</span>\r\n                                </a>\r\n                            </div>\r\n                            <div>\r\n                                <a className=\"sign-out\" href=\"/logout\" rel=\"nofollow\" title=\"Log out\">\r\n                                <i className=\"fa fa-sign-out\" aria-hidden=\"true\" />\r\n                                <span>Sign out</span>\r\n                                </a>\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n\r\n                        <div className=\"desktop_cart\">\r\n                            <div className=\"blockcart block-cart cart-preview tiva-toggle\">\r\n                            <div className=\"header-cart tiva-toggle-btn\">\r\n                                <a href=\"/cart\" data-toggle=\"collapse\" className=\"acount\"/>\r\n                                <i className=\"fa fa-shopping-cart\" aria-hidden=\"true\" />\r\n                            </div>\r\n                            <div className=\"dropdown-content\">\r\n                                <div className=\"cart-content\">\r\n                                <table>\r\n                                    <tbody>\r\n                                    {this.state.productCart.length === 0 && (\r\n                                    <li className=\"text-center\">\r\n                                        <h4>Empty</h4>\r\n                                    </li>\r\n                                    )}\r\n                                    {this.state.productCart.map((item) => {\r\n                                    <tr>\r\n                                        <td className=\"product-image\">\r\n                                        <a href=\"product-detail.html\">\r\n                                            <img src={item.image} alt=\"Product\" />\r\n                                        </a>\r\n                                        </td>\r\n                                        <td>\r\n                                        <div className=\"product-name\">\r\n                                            <a href=\"#\">{item.name}</a>\r\n                                        </div>\r\n                                        <div>\r\n                                            {item.qty}x -{\" \"}\r\n                                            <span className=\"product-price\">Rp {item.qty * item.price}</span>\r\n                                        </div>\r\n                                        </td>\r\n                                        <td className=\"action\">\r\n                                        <a className=\"remove\" href=\"#\">\r\n                                            <i className=\"fa fa-trash-o\" aria-hidden=\"true\"\r\n                                            onClick={() => this.deleteCart(item.id)} />\r\n                                        </a>\r\n                                        </td>\r\n                                    </tr>\r\n                                    })}\r\n                                    <tr className=\"total\">\r\n                                        <td >Total:</td>\r\n                                        <td> Rp {this.state.totalprice}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colSpan={3} className=\"d-flex justify-content-center\">\r\n                                        <div className=\"cart-button\">\r\n                                            <a href=\"/cart\" title=\"View Cart\">View Cart</a>\r\n                                            <a href=\"/checkout\" title=\"Checkout\">Checkout</a>\r\n                                        </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                                </div>\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                {/* main content */}\r\n                <div className=\"main-content\">\r\n                    <div className=\"wrap-banner\">\r\n                    {/* breadcrumb */}\r\n                    <nav className=\"breadcrumb-bg\">\r\n                        <div className=\"container no-index\">\r\n                        <div className=\"breadcrumb\">\r\n                            <br></br>\r\n                        </div>\r\n                        </div>\r\n                    </nav>\r\n                    </div>\r\n                    <div id=\"wrapper-site\">\r\n                        <div id=\"content-wrapper\" class=\"full-width\">\r\n                            <div id=\"main\">\r\n                                <br></br><br></br>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </header> \r\n        );\r\n    }\r\n} export default Header"]},"metadata":{},"sourceType":"module"}